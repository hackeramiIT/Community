#Privesc_Windows 

---
#### INDICE

- [[#Introduzione]]
- [[#Lettura File]]

---
---
---
### Introduzione
Il fileÂ **ConsoleHost_history.txt**Â Ã¨ il file dove PowerShell salva automaticamenteÂ **tutta la cronologia dei comandi** digitati nella console PowerShell. Un attaccante potrebbe leggere i comandi e sfruttarli per un privilege escalation.

```
%userprofile%\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadline\ConsoleHost_history.txt
```

```
Connect-VIServer -Server vcenter.domain.com -User admin -Password "SuperSecret123!"
sqlcmd -S dbserver -U sa -P "DatabasePassword123"
```

### Lettura File
Leggi direttamente la history:

```
Get-Content "$env:USERPROFILE\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadline\ConsoleHost_history.txt"
```

```
type C:\Users\Administrator\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadLine\
ConsoleHost_history.txt
```

ğŸ“šâ€‹ Writeups:
- *Windows:*[[ğŸ“š WRITEUPS/ğŸŒ Ambienti/Active Directory#Timelapse| Timelapse]],[[ğŸ“š WRITEUPS/ğŸŒ Ambienti/Active Directory#Enterprise| Enterprise]],
- *Network:*[[Network#OSCP Challenge C | Challenge C]],
