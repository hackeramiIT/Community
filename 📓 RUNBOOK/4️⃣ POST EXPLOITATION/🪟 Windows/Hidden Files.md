#Privesc_Windows 

---
#### INDICE

- [[#Introduzione]]
- [[#Comandi per Gestire File Nascosti]]
- [[#Alternate Data Streams (ADS)]]

---
---
---
### Introduzione
I **file nascosti** e gli **Alternate Data Streams (ADS)** sono funzionalità del file system NTFS che possono essere sfruttate per nascondere malware, dati sensibili, o mantenere persistenza. Queste tecniche sono particolarmente pericolose perché spesso bypassano i controlli di sicurezza tradizionali.

Windows permette di nascondere file e cartelle attraverso attributi del file system:

- **Attributo Hidden**: File non visibili con `dir` normale
- **Attributo System**: File di sistema protetti
- **Attributo Archive**: Per backup

---
### Comandi per Gestire File Nascosti
Mostra file nascosti:

```
dir /a
dir /ah
dir /a:h
```

Nascondere i file:

```
attrib +h filename.txt
attrib +h +s important_file.exe  # Hidden + System
```

Cerca tutti i file nascosti nella directory corrente:

```
dir /a /s | findstr /i "<DIR>.*\."
```

---
### Alternate Data Streams (ADS)
Gli **Alternate Data Streams** sono una caratteristica di NTFS che permette a un file di avere multiple "streams" di dati di diverso tipo.

La struttura degli ADS è:

```
file.txt (stream primario)
file.txt:secret.txt (stream alternativo)
file.txt:malware.exe (stream alternativo)
```

Per creare un ADS con contenuto testo

```
echo "This is hidden data" > file.txt:secret.txt
```

Per leggere un ADS:

```
more < file.txt:secret.txt
```
